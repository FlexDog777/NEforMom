<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>–ú–∞–º–µ –æ—Ç –ò–ª—å–∏ ‚ù§Ô∏è</title>

<link href="https://fonts.googleapis.com/css2?family=Caveat:wght@700&family=Montserrat:wght@300;400&display=swap" rel="stylesheet">

<style>
:root {
    --primary-color: #d63384;
    --bg-gradient: linear-gradient(135deg, #fceaf0 0%, #f9d1d1 100%);
    --page-bg: #ffffff;
}

* { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

body {
    margin: 0;
    height: 100vh;
    background: var(--bg-gradient);
    display: flex;
    justify-content: center;
    align-items: center;
    font-family: 'Montserrat', sans-serif;
    overflow: hidden;
}

.snow {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    pointer-events: none;
    z-index: 100;
}

.book {
    position: relative;
    width: 85vw;
    max-width: 360px;
    height: 75vh;
    max-height: 550px;
    perspective: 1500px;
}

.page {
    position: absolute;
    width: 100%;
    height: 100%;
    transform-origin: left;
    transform-style: preserve-3d;
    transition: transform 1.2s cubic-bezier(0.645, 0.045, 0.355, 1);
}

.front, .back {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    padding: 20px;
    border-radius: 10px 20px 20px 10px;
    box-shadow: inset 3px 0px 20px rgba(0,0,0,0.05), 10px 10px 30px rgba(0,0,0,0.15);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    background: var(--page-bg);
}

.back {
    transform: rotateY(180deg);
    background: #fffafa;
}

h1 {
    font-family: 'Caveat', cursive;
    color: var(--primary-color);
    font-size: 28px;
    margin: 5px 0;
    text-align: center;
}

p {
    font-size: 14px;
    color: #555;
    line-height: 1.4;
    text-align: center;
    margin: 8px 0;
}

.page-img {
    width: 100%;
    height: 150px;
    object-fit: cover;
    border-radius: 12px;
    margin: 10px 0;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

.heart {
    font-size: 35px;
    color: #e91e63;
    animation: pulse 1.5s infinite;
}

@keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
}

button {
    margin-top: 10px;
    padding: 10px 22px;
    border: 2px solid var(--primary-color);
    background: white;
    color: var(--primary-color);
    border-radius: 20px;
    cursor: pointer;
    font-weight: bold;
    font-size: 13px;
    transition: 0.3s;
}

button:hover {
    background: var(--primary-color);
    color: white;
}

.flipped {
    transform: rotateY(-180deg);
    z-index: 10 !important;
}

#p1 { z-index: 7; }
#p2 { z-index: 6; }
#p3 { z-index: 5; }
#p4 { z-index: 4; }
#p5 { z-index: 3; }
#p6 { z-index: 2; }
#p7 { z-index: 1; }

#timer {
    font-size: 18px;
    font-weight: bold;
    color: #d63384;
    background: #fff0f3;
    padding: 10px 15px;
    border-radius: 15px;
    border: 1px dashed #d63384;
    margin: 10px 0;
}

.music-control {
    position: fixed;
    bottom: 20px;
    right: 20px;
    width: 45px;
    height: 45px;
    border-radius: 50%;
    background: white;
    z-index: 1000;
    font-size: 20px;
    border: none;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}
</style>
</head>
<body>

<canvas class="snow" id="snowCanvas"></canvas>

<audio id="bgMusic" loop>
    <source src="song.mp3" type="audio/mpeg">
</audio>

<button class="music-control" onclick="toggleMusic()" id="musicBtn">üîá</button>

<div class="book">
    <!-- –°–¢–†–ê–ù–ò–¶–ê 1 -->
    <div class="page" id="p1">
        <div class="front">
            <h1>–õ—é–±–∏–º–æ–π –º–∞–º–µ!</h1>
            <img src="https://images.pexels.com/photos/35277756/pexels-photo-35277756.jpeg" class="page-img" alt="–ù–æ–≤—ã–π –≥–æ–¥">
            <p>–î–æ –ù–æ–≤–æ–≥–æ –≥–æ–¥–∞ –æ—Å—Ç–∞–ª–æ—Å—å:</p>
            <div id="timer">...</div>
            <p>–û—Ç —Ç–≤–æ–µ–≥–æ —Å—ã–Ω–∞ <b>–ò–ª—å–∏</b> ‚ù§Ô∏è</p>
            <button onclick="flip(1)">–û—Ç–∫—Ä—ã—Ç—å –ø–æ–¥–∞—Ä–æ–∫ ‚ûú</button>
        </div>
        <div class="back">
            <h1>–ú–∞–º–∞...</h1>
            <p>–≠—Ç–æ —Å–ª–æ–≤–æ –∑–Ω–∞—á–∏—Ç –¥–ª—è –º–µ–Ω—è —Ü–µ–ª—ã–π –º–∏—Ä. –¢—ã –≤—Å–µ–≥–¥–∞ –±—ã–ª–∞ —Ä—è–¥–æ–º, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–ª–∞ –∏ –≤–µ—Ä–∏–ª–∞ –≤ –º–µ–Ω—è.</p>
        </div>
    </div>

    <!-- –°–¢–†–ê–ù–ò–¶–ê 2 -->
    <div class="page" id="p2">
        <div class="front">
            <h1>–ú–æ—ë ¬´–°–ø–∞—Å–∏–±–æ¬ª</h1>
            <img src="https://images.unsplash.com/photo-1512389142860-9c449e58a543?auto=format&fit=crop&q=80&w=400" class="page-img" alt="–ü–æ–¥–∞—Ä–∫–∏">
            <p>–ó–∞ —É—é—Ç –≤ –¥–æ–º–µ, –∑–∞ —Ç–µ–ø–ª–æ –∏ –∑–∞ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–µ —Ç–µ—Ä–ø–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ —É —Ç–µ–±—è.</p>
            <button onclick="flip(2)">–î–∞–ª—å—à–µ ‚ûú</button>
        </div>
        <div class="back">
            <h1>–¢—ã —É–Ω–∏–∫–∞–ª—å–Ω–∞</h1>
            <p>–ù–∏–∫—Ç–æ –≤ –º–∏—Ä–µ –Ω–µ —É–º–µ–µ—Ç —Ç–∞–∫ —Å–æ–ø–µ—Ä–µ–∂–∏–≤–∞—Ç—å –∏ —Ç–∞–∫ –∏—Å–∫—Ä–µ–Ω–Ω–µ —Ä–∞–¥–æ–≤–∞—Ç—å—Å—è —É—Å–ø–µ—Ö–∞–º, –∫–∞–∫ —Ç—ã.</p>
        </div>
    </div>

    <!-- –°–¢–†–ê–ù–ò–¶–ê 3 -->
    <div class="page" id="p3">
        <div class="front">
            <h1>–ù–∞—à–∏ –º–æ–º–µ–Ω—Ç—ã</h1>
            <img src="https://images.unsplash.com/photo-1513297887119-d46091b24bfa?auto=format&fit=crop&q=80&w=400" class="page-img" alt="–ï–ª–∫–∞">
            <p>–Ø —Ü–µ–Ω—é –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É –≤–º–µ—Å—Ç–µ. –ü—É—Å—Ç—å —Ç–∞–∫–∏—Ö –º–æ–º–µ–Ω—Ç–æ–≤ –≤ –Ω–æ–≤–æ–º –≥–æ–¥—É –±—É–¥–µ—Ç –µ—â–µ –±–æ–ª—å—à–µ!</p>
            <button onclick="flip(3)">–õ–∏—Å—Ç–∞—Ç—å ‚ûú</button>
        </div>
        <div class="back">
            <h1>–ó–Ω–∞–π...</h1>
            <p>–Ø –≤—Å–µ–≥–¥–∞ —Å—Ç–∞—Ä–∞—é—Å—å –±—ã—Ç—å –¥–æ—Å—Ç–æ–π–Ω—ã–º —Ç–≤–æ–µ–π –ª—é–±–≤–∏ –∏ –¥–µ–ª–∞—Ç—å —Ç–∞–∫, —á—Ç–æ–±—ã —Ç—ã –º–Ω–æ–π –≥–æ—Ä–¥–∏–ª–∞—Å—å.</p>
        </div>
    </div>

    <!-- –°–¢–†–ê–ù–ò–¶–ê 4 -->
    <div class="page" id="p4">
        <div class="front">
            <h1>2026 –≥–æ–¥</h1>
            <p>–ü—É—Å—Ç—å —ç—Ç–æ—Ç –≥–æ–¥ –ø—Ä–∏–Ω–µ—Å–µ—Ç —Ç–µ–±–µ –ª–µ–≥–∫–æ—Å—Ç—å. –ß—Ç–æ–±—ã –≤—Å–µ –¥–µ–ª–∞ —Ä–µ—à–∞–ª–∏—Å—å –ª–µ–≥–∫–æ, –∞ –Ω–∞ –¥—É—à–µ –±—ã–ª–æ —Å–ø–æ–∫–æ–π–Ω–æ.</p>
            <img src="https://images.unsplash.com/photo-1544273677-c433136021d4?auto=format&fit=crop&q=80&w=400" class="page-img" alt="–£—é—Ç">
            <button onclick="flip(4)">–ß—Ç–æ –¥–∞–ª—å—à–µ? ‚ûú</button>
        </div>
        <div class="back">
            <h1>–ó–¥–æ—Ä–æ–≤—å–µ</h1>
            <p>–≠—Ç–æ —Å–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ. –ü—É—Å—Ç—å –æ–Ω–æ –±—É–¥–µ—Ç –∫—Ä–µ–ø–∫–∏–º, –∞ —ç–Ω–µ—Ä–≥–∏—è ‚Äî –Ω–µ–∏—Å—Å—è–∫–∞–µ–º–æ–π!</p>
        </div>
    </div>

    <!-- –°–¢–†–ê–ù–ò–¶–ê 5 -->
    <div class="page" id="p5">
        <div class="front">
            <h1>–ú–µ—á—Ç–∞–π!</h1>
            <p>–í—Å–ø–æ–º–Ω–∏ –æ —Ç–æ–º, —á–µ–≥–æ —Ç—ã –¥–∞–≤–Ω–æ —Ö–æ—Ç–µ–ª–∞. –Ø –æ–±–µ—â–∞—é –ø–æ–º–æ–≥–∞—Ç—å —Ç–µ–±–µ –≤ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –ª—é–±—ã—Ö —Ü–µ–ª–µ–π!</p>
            <div class="heart">‚ù§Ô∏è</div>
            <button onclick="flip(5)">–ï—â—ë —Å—Ç—Ä–∞–Ω–∏—Ü–∞ ‚ûú</button>
        </div>
        <div class="back">
            <h1>–¢–≤–æ–π –ò–ª—å—è</h1>
            <p>–ü–æ–º–Ω–∏, —á—Ç–æ —É —Ç–µ–±—è –µ—Å—Ç—å –Ω–∞–¥–µ–∂–Ω–∞—è –æ–ø–æ—Ä–∞. –Ø –≤—Å–µ–≥–¥–∞ –Ω–∞ —Ç–≤–æ–µ–π —Å—Ç–æ—Ä–æ–Ω–µ –∏ –≤—Å–µ–≥–¥–∞ –ø–æ–¥–¥–µ—Ä–∂—É.</p>
        </div>
    </div>

    <!-- –°–¢–†–ê–ù–ò–¶–ê 6 -->
    <div class="page" id="p6">
        <div class="front">
            <h1>–° –Ω–∞—Å—Ç—É–ø–∞—é—â–∏–º!</h1>
            <img src="https://images.unsplash.com/photo-1482517967863-00e15c9b44be?auto=format&fit=crop&q=80&w=400" class="page-img" alt="–û–≥–Ω–∏">
            <p>–°–ª—ã—à–∏—à—å, –∫–∞–∫ –ø—Ä–∏–±–ª–∏–∂–∞–µ—Ç—Å—è –ø—Ä–∞–∑–¥–Ω–∏–∫? –°–∞–º–æ–µ –≤—Ä–µ–º—è –∑–∞–≥–∞–¥–∞—Ç—å –∑–∞–≤–µ—Ç–Ω–æ–µ –∂–µ–ª–∞–Ω–∏–µ.</p>
            <button onclick="flip(6)">–ü–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ ‚ûú</button>
        </div>
        <div class="back">
            <h1>–°–∞–º–∞—è –ª—É—á—à–∞—è</h1>
            <p>–¢—ã ‚Äî –ª—É—á—à–∞—è –º–∞–º–∞ –≤–æ –≤—Å–µ–ª–µ–Ω–Ω–æ–π. –õ—é–±–ª—é —Ç–µ–±—è –±–µ–∑—É–º–Ω–æ! –° –ù–æ–≤—ã–º –≥–æ–¥–æ–º!</p>
        </div>
    </div>

    <!-- –°–¢–†–ê–ù–ò–¶–ê 7 -->
    <div class="page" id="p7">
        <div class="front">
            <h1>–°—á–∞—Å—Ç—å—è —Ç–µ–±–µ!</h1>
            <div class="heart">‚ù§Ô∏è</div>
            <p style="font-size: 18px; margin-top: 20px;">
                –í—Å–µ–≥–¥–∞ —Ç–≤–æ–π,<br>
                <b>—Å—ã–Ω –ò–ª—å—è</b>
            </p>
            <p style="font-size: 12px; color: #999;">2026</p>
        </div>
        <div class="back"></div>
    </div>
</div>

<script>
const music = document.getElementById('bgMusic');
const musicBtn = document.getElementById('musicBtn');
let isMusicPlaying = false;

// –§–£–ù–ö–¶–ò–Ø –ü–ï–†–ï–í–û–†–û–¢–ê –° –ë–õ–û–ö–ò–†–û–í–ö–û–ô
function flip(id) {
    const now = new Date();
    // –î–∞—Ç–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è: 1 —è–Ω–≤–∞—Ä—è 2026 –≥–æ–¥–∞
    const unlockDate = new Date(2026, 0, 1, 0, 0, 0);

    if (id === 1 && now < unlockDate) {
        alert("–¢–µ—Ä–ø–µ–Ω–∏–µ, –º–∞–º—É–ª—å! ‚ù§Ô∏è –ü–æ–¥–∞—Ä–æ–∫ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è —Ä–æ–≤–Ω–æ –≤ –ø–æ–ª–Ω–æ—á—å!");
        return;
    }

    const page = document.getElementById('p' + id);
    page.classList.add('flipped');
    
    if (!isMusicPlaying) startMusic();

    setTimeout(() => {
        page.style.zIndex = id;
    }, 500);
}

function startMusic() {
    music.play().then(() => {
        isMusicPlaying = true;
        musicBtn.innerText = 'üîä';
    }).catch(e => console.log("–ú—É–∑—ã–∫–∞ –∂–¥–µ—Ç –∫–ª–∏–∫–∞"));
}

function toggleMusic() {
    if (isMusicPlaying) {
        music.pause();
        musicBtn.innerText = 'üîá';
    } else {
        music.play();
        musicBtn.innerText = 'üîä';
    }
    isMusicPlaying = !isMusicPlaying;
}

function updateTimer() {
    const now = new Date();
    const nextYear = new Date(2026, 0, 1, 0, 0, 0); 
    const diff = nextYear - now;
    const timerElement = document.getElementById('timer');

    if (diff <= 0) {
        timerElement.innerHTML = "–° –ù–û–í–´–ú –ì–û–î–û–ú! ü•Ç‚ú®";
        return;
    }

    const d = Math.floor(diff / (1000 * 60 * 60 * 24));
    const h = Math.floor((diff / (1000 * 60 * 60)) % 24);
    const m = Math.floor((diff / (1000 * 60)) % 60);
    const s = Math.floor((diff / 1000) % 60);
    
    timerElement.innerHTML = `${d}–¥ ${h}—á ${m}–º ${s}—Å`;
}
setInterval(updateTimer, 1000);
updateTimer();

const canvas = document.getElementById('snowCanvas');
const ctx = canvas.getContext('2d');
let width, height, snowflakes;

function initSnow() {
    width = window.innerWidth;
    height = window.innerHeight;
    canvas.width = width;
    canvas.height = height;
    snowflakes = Array.from({ length: width < 500 ? 40 : 80 }, () => ({
        x: Math.random() * width,
        y: Math.random() * height,
        r: Math.random() * 3 + 1,
        d: Math.random() * 1
    }));
}

function drawSnow() {
    ctx.clearRect(0, 0, width, height);
    ctx.fillStyle = "rgba(255, 255, 255, 0.8)";
    ctx.beginPath();
    snowflakes.forEach(f => {
        ctx.moveTo(f.x, f.y);
        ctx.arc(f.x, f.y, f.r, 0, Math.PI * 2);
    });
    ctx.fill();
    snowflakes.forEach(f => {
        f.y += Math.pow(f.d, 2) + 1;
        f.x += Math.sin(f.y / 50);
        if (f.y > height) { f.y = -10; f.x = Math.random() * width; }
    });
    requestAnimationFrame(drawSnow);
}

window.addEventListener('resize', initSnow);
initSnow();
drawSnow();
</script>

</body>
</html>
